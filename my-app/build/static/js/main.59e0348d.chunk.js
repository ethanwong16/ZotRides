(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){},260:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),s=a.n(r),i=(a(139),a(23)),o=(a(140),a(141),a(45)),l=a(10),j=a(7),d=a(280),u=a(281),b=a(133),h=a(288),O=a(98),x=a(127),p=a.n(x),m=a(14),g=a.n(m),f=a(20),v=a(21),y=(a(44),a(285)),S=a(279),C=a(9),k=a.n(C),L="http://3.23.59.127:8080/ZotRides/",w=a(1),D=function(e){return Object(w.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.a.ajax({dataType:"json",method:"POST",data:a,url:L+"api/login",success:function(t){console.log(JSON.stringify(t)),"fail"===t.status?e.setError("Login failed (Invalid username/password"):e.setSuccess(!0)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(t){var a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,r=t.values,s=t.touched,i=t.errors;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:a,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Username"}),Object(w.jsx)(y.a.Control,{type:"string",name:"username",id:"username",onChange:n,onBlur:c,value:r.username,placeholder:"Enter username",isInvalid:s.username&&i.username}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.username})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Password"}),Object(w.jsx)(y.a.Control,{type:"password",name:"password",id:"password",onChange:n,onBlur:c,value:r.password,placeholder:"Enter password",isInvalid:s.password&&i.password}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.password})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Login"}),Object(w.jsx)(S.a,{variant:"link",value:"register",onClick:e.switchForm,children:"Create an Account"})]})}})},T=function(){var e=Object(n.useState)("login"),t=Object(j.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!1),r=Object(j.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(),x=Object(j.a)(o,2),m=x[0],g=x[1],f=Object(n.useState)(!1),v=Object(j.a)(f,2),y=v[0],S=v[1];return s?Object(w.jsx)(l.c,{to:"/"}):Object(w.jsxs)(d.a,{className:"pt-5",children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(b.a,{children:Object(w.jsx)("h1",{children:"Welcome to ZotRides"})})}),Object(w.jsx)(u.a,{children:Object(w.jsx)(b.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{active:y,spinner:!0,text:"Logging in...",children:Object(w.jsxs)(h.a.Body,{children:[Object(w.jsx)(D,{switchForm:function(e){g(),"login"===e.target.value?a("login"):a("register")},setLoading:S,setError:g,setSuccess:i}),m&&Object(w.jsx)(O.a,{in:!0,children:Object(w.jsxs)("div",{children:[Object(w.jsx)("br",{}),Object(w.jsxs)("p",{children:["ERROR: ",function(e){return e.message?e.message:e}(m)]})]})})]})})})})})]})},N=a(282);a(260);function B(){return Object(w.jsx)("div",{children:Object(w.jsxs)(N.a,{className:"hero-section",children:[Object(w.jsx)("h1",{children:"Welcome to ZotRides"}),Object(w.jsx)("p",{className:"subtitle",children:"Book unforgettable cars from locations around the world"})]})})}a(91);var E=a(13),I=function(e){return Object(w.jsx)(N.a,{className:"header",children:Object(w.jsx)(d.a,{children:Object(w.jsx)("h1",{children:e.title})})})},_=a(49),P=a.n(_),G=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1];return c?Object(w.jsx)(l.c,{to:"/mycart"}):Object(w.jsx)(v.a,{initialValues:{name:e.name,carID:e.carID,unitPrice:e.unitPrice},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.ajax({dataType:"json",method:"POST",data:Object(i.a)(Object(i.a)({},t),{},{endDate:F(t.endDate),startDate:F(t.startDate)}),url:L+"api/shopping-cart",success:function(e){console.log(JSON.stringify(e)),r(!0)}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(t){var a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,r=t.values,s=t.errors,i=t.setFieldValue;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:a,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Start Date"}),Object(w.jsx)("br",{}),Object(w.jsx)(P.a,{name:"startDate",value:r.startDate,onChange:function(e){return i("startDate",e)}}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.username})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"End Date"}),Object(w.jsx)("br",{}),Object(w.jsx)(P.a,{name:"endDate",value:r.endDate,onChange:function(e){return i("endDate",e)}}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.password})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Pickup Location"}),Object(w.jsxs)("select",{name:"pickupLocation",value:r.pickLocation,onChange:n,onBlur:c,style:{display:"block"},children:[Object(w.jsx)("option",{value:"",label:"Select a location"}),e.locations.map((function(e,t){return Object(w.jsx)("option",{value:e,children:e},t)}))]})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Add to cart"})]})}})};function F(e){return function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();a.length<2&&(a="0"+a);n.length<2&&(n="0"+n);return[c,a,n].join("/")}(e)}function U(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(M),i=Object(j.a)(s,2),o=i[0],h=i[1],O=Object(n.useState)(!1),x=Object(j.a)(O,2),p=x[0],m=x[1];return Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"GET",url:L+"api/single-car?id="+e.match.params.carId,success:function(e){h(e[0]),r(!1)}})}),[]),c?Object(w.jsx)("div",{children:"Loading..."}):(console.log(p),p?Object(w.jsx)(l.c,{to:"/browse/na/na/na/na/na/t"}):(console.log(),Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"Single Car Page"}),Object(w.jsxs)(d.a,{fluid:!0,className:"pl-5",children:[Object(w.jsxs)(u.a,{children:[Object(w.jsxs)(b.a,{xs:7,children:[Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:2,children:Object(w.jsx)("p",{style:{textAlign:"right"},children:"The car"})}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("h1",{children:o.car_name}),Object(w.jsx)(E.LinkContainer,{to:"/browse/na/na/na/na/"+o.car_category,children:Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:o.car_category})})}),Object(w.jsxs)("p",{children:[o.car_rating," \u2605 (",o.car_votes," votes)"]})]})]}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:2,children:Object(w.jsx)("p",{style:{textAlign:"right"},children:"Hosted at"})}),Object(w.jsx)(b.a,{children:o.location_address.split(";").map((function(e,t){return Object(w.jsx)(b.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/locations/"+o.location_ids.split(";")[t],children:Object(w.jsx)(S.a,{variant:"link",children:e},t)})})}))})]})]}),Object(w.jsx)(b.a,{children:Object(w.jsx)(G,{name:o.car_name,carID:o.car_id,unitPrice:120,locationids:o.location_ids.split(";"),locations:o.location_address.split(";")})})]}),Object(w.jsx)(u.a,{children:Object(w.jsx)(S.a,{variant:"link",onClick:function(){m(!0)},children:">> Back to Car List"})})]})]})))}var M={car_category:"NULL",car_id:"NULL",car_name:"NULL",car_rating:-1,car_votes:-1,location_address:["NULL","NULL","NULL"],location_phone:["NULL","NULL","NULL"]};function R(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(V),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"GET",url:L+"api/single-loc?id="+e.match.params.locationId,success:function(e){l(e[0]),r(!1),console.log(e)}})}),[]),c?Object(w.jsx)("div",{children:"Loading..."}):(console.log(o),Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"Single Location Page"}),Object(w.jsxs)(d.a,{fluid:!0,children:[Object(w.jsx)(u.a,{children:Object(w.jsxs)(b.a,{xs:7,children:[Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:2,children:Object(w.jsx)("p",{style:{textAlign:"right"},children:"The location"})}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("h1",{children:o.location_address}),Object(w.jsx)("p",{children:o.location_phone})]})]}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:2,children:Object(w.jsx)("p",{style:{textAlign:"right"},children:"Cars here"})}),Object(w.jsx)(b.a,{children:o.cars_offered.split(";").map((function(e,t){return Object(w.jsx)(b.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/cars/"+o.cars_ids.split(";")[t],children:Object(w.jsx)(S.a,{variant:"link",children:e},t)})})}))})]})]})}),Object(w.jsx)(u.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(w.jsx)(S.a,{variant:"link",children:">> Back to Car List"})})})]})]}))}var V={cars_ids:"NULL",cars_offered:"NULL",location_address:"NULL",location_id:"NULL",location_phone:"NULL"},A=a(286),z=a(287),H=a(284),W=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({defaultQuery:Y}),i=Object(j.a)(s,2),o=i[0],d=i[1];return c?(e.setModalShow(!1),Object(w.jsx)(l.c,{to:"/browse/"+o.model+"/"+o.year+"/"+o.make+"/"+o.location})):Object(w.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t.model&&(t.model="na"),null==t.year&&(t.year="na"),null==t.make&&(t.make="na"),null==t.location&&(t.location="na"),d(t),r(!0),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Model"}),Object(w.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Year"}),Object(w.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Make"}),Object(w.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Location"}),Object(w.jsx)(y.a.Control,{type:"string",name:"location",id:"location",onChange:a,onBlur:n,value:c.location,placeholder:"Enter location"})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Search"})]})}})},Y={model:"na",year:"na",make:"na",location:"na"},J=function(e){return Object(w.jsxs)(H.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(w.jsx)(H.a.Header,{closeButton:!0,children:Object(w.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Search for Car"})}),Object(w.jsx)(H.a.Body,{children:Object(w.jsx)(W,{setModalShow:e.setModalShow})})]}))},Z=function(e){var t=Object(n.useState)(),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),o=Object(j.a)(s,2),d=o[0],u=o[1],b=Object(n.useState)(""),h=Object(j.a)(b,2),O=h[0],x=h[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),g=m[0],f=m[1];function v(t){e.setModalShow(!1),x("/browse/na/na/na/na/"+t.target.id),f(!0)}return Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"GET",url:L+"api/categories",success:function(e){console.log(e),r(e.map((function(e){return e.category}))),u(!1)}})}),[]),g?Object(w.jsx)(l.c,{to:O}):d?Object(w.jsx)("div",{}):Object(w.jsxs)(H.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(w.jsx)(H.a.Header,{closeButton:!0,children:Object(w.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Search for Car"})}),Object(w.jsx)(H.a.Body,{children:c.map((function(e){return Object(w.jsx)(S.a,{id:e,onClick:v,variant:"link",children:e})}))})]}))};function Q(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2);u[0],u[1];return console.log(o),Object(w.jsxs)("div",{children:[Object(w.jsx)(Z,{show:o,onHide:function(){return l(!1)},setModalShow:l}),Object(w.jsx)(J,{show:c,onHide:function(){return r(!1)},setModalShow:r}),Object(w.jsxs)(A.a,{variant:"light",className:"myNav",children:[Object(w.jsx)(E.LinkContainer,{to:"/",children:Object(w.jsx)(A.a.Brand,{children:Object(w.jsx)("img",{src:"https://i.ibb.co/hKLvRdN/Screen-Shot-2021-04-16-at-4-24-19-PM.png",style:{width:"145px"}})})}),Object(w.jsx)(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsxs)(A.a.Collapse,{id:"basic-navbar-nav",children:[Object(w.jsx)(z.a,{className:"mr-auto",children:Object(w.jsx)(E.LinkContainer,{to:"/browseby",children:Object(w.jsx)(z.a.Link,{children:"Make Query"})})}),Object(w.jsx)(z.a,{className:"ml-auto",children:Object(w.jsx)(E.LinkContainer,{to:"/mycart",children:Object(w.jsx)(z.a.Link,{children:"My Cart"})})})]})]})]})}var $=a(289);function K(e){return Object(w.jsx)(b.a,{xs:4,className:"pt-3",children:Object(w.jsxs)(h.a,{className:"text-center",children:[Object(w.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(w.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"})}),Object(w.jsxs)(h.a.Body,{className:"pt-1",children:[Object(w.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(w.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name})}),Object(w.jsx)("p",{onClick:function(){console.log("yes"),e.handleCategorySelect(e.category)},children:e.category}),Object(w.jsxs)("p",{children:[e.rating," \u2605 (",e.votes," votes)"]}),Object(w.jsx)($.a,{variant:"flush",children:e.locations.map((function(t,a){return Object(w.jsx)(E.LinkContainer,{to:"/locations/"+e.locationId[a],children:Object(w.jsxs)($.a.Item,{children:[t," ",Object(w.jsx)("br",{}),e.phone[a]]},a)})}))}),Object(w.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(w.jsx)(S.a,{children:"Reserve"})})]})]})})}a(283);var X=function(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"POST",data:q(e.match.params),url:L+"api/search-car",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):l(t),r(!1)}})}),[]),c?Object(w.jsx)("div",{children:"Loading..."}):Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"Search Results"}),Object(w.jsxs)(d.a,{fluid:!0,children:[Object(w.jsx)(u.a,{children:Object(w.jsxs)(b.a,{children:[Object(w.jsxs)("p",{children:["Model: ",e.match.params.model]}),Object(w.jsxs)("p",{children:["Year: ",e.match.params.year]}),Object(w.jsxs)("p",{children:["Make: ",e.match.params.make]}),Object(w.jsxs)("p",{children:["Location: ",e.match.params.location]})]})}),Object(w.jsx)(u.a,{children:o.map((function(e,t){return Object(w.jsx)(K,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";")},t)}))})]})]})};function q(e){return"na"!==e.model&&null!=e.model||delete e.model,"na"!==e.year&&null!=e.year||delete e.year,"na"!==e.make&&null!=e.make||delete e.make,"na"!==e.location&&null!=e.location||delete e.location,e}var ee=function(e){return Object(w.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.a.ajax({dataType:"json",method:"POST",data:{endDate:te(a.endDate),startDate:te(a.startDate),itemID:e.id},url:L+"api/modify-cart-item",success:function(e){console.log(e),window.location.reload(!1)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.values,n=e.errors,c=e.setFieldValue;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Start Date"}),Object(w.jsx)("br",{}),Object(w.jsx)(P.a,{name:"startDate",value:a.startDate,onChange:function(e){return c("startDate",e)}}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:n.username})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"End Date"}),Object(w.jsx)("br",{}),Object(w.jsx)(P.a,{name:"endDate",value:a.endDate,onChange:function(e){return c("endDate",e)}}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:n.password})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Update Reservation"})]})}})};function te(e){return function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();a.length<2&&(a="0"+a);n.length<2&&(n="0"+n);return[c,a,n].join("/")}(e)}var ae=function(e){return Object(w.jsxs)(H.a,{show:e.showUpdate,onHide:function(){return e.setUpdate(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(w.jsx)(H.a.Header,{closeButton:!0,children:Object(w.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Update Reservation"})}),Object(w.jsx)(H.a.Body,{children:Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:6,style:{backgroundImage:"url('https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg')",backgroundSize:"cover",backgroundPosition:"center"}}),Object(w.jsx)(b.a,{children:Object(w.jsx)(ee,{id:e.carID})})]})})]})},ne=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)(ae,{showUpdate:c,setUpdate:r,carID:e.id}),Object(w.jsxs)(h.a,{className:"text-center",children:[Object(w.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"}),Object(w.jsxs)(h.a.Body,{className:"pt-1",children:[Object(w.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name}),Object(w.jsxs)("p",{children:["Price per Day: $",e.price]}),Object(w.jsxs)("p",{children:["Total Price: $",e.price*ce(e.start,e.end)]}),Object(w.jsxs)("p",{children:["Days: ",ce(e.start,e.end)]}),Object(w.jsxs)("p",{children:["Pickup Location: ",e.location]}),Object(w.jsxs)("p",{children:["Start Date: ",e.start]}),Object(w.jsxs)("p",{children:["End Date: ",e.end]}),Object(w.jsx)(S.a,{onClick:function(){r(!c)},children:"Update"}),Object(w.jsx)(S.a,{className:"ml-4",onClick:function(){k.a.ajax({dataType:"json",method:"POST",data:{itemID:e.id},url:L+"api/delete-cart-item",success:function(e){console.log(e),window.location.reload(!1)}})},children:"Remove"})]})]})]})};function ce(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var re=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"GET",url:L+"api/shopping-cart",success:function(e){o(e.previousItems),c(!1),console.log(e)}})}),[]),a?Object(w.jsx)("div",{children:"Loading..."}):Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"My Cart"}),Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{xs:8,children:i.map((function(e,t){return Object(w.jsx)(ne,{id:e.id,name:e.name,location:e.pickupLocation,start:e.startDate,end:e.endDate,price:e.unitPrice},t)}))}),Object(w.jsx)(b.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/payment",children:Object(w.jsx)(S.a,{children:"Continue to Payment"})})})]}),Object(w.jsx)(u.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(w.jsx)(S.a,{variant:"link",children:">> Back to Car List"})})})]})]})},se=function(e){return Object(w.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.a.ajax({dataType:"json",method:"POST",data:{firstName:a.firstname,lastName:a.lastname,ccNumber:a.cc,expDate:a.year+"/"+a.month+"/"+a.day},url:L+"api/payment",success:function(t){console.log(t),"fail"===t.status?e.setFailed(!0):(e.setCompleted(!0),e.setSalesId(t.message))}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values,r=e.errors;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"First name"}),Object(w.jsx)(y.a.Control,{type:"string",name:"firstname",id:"firstname",onChange:a,onBlur:n,value:c.firstname,placeholder:"Enter First Name"}),Object(w.jsx)(y.a.Control.Feedback,{type:"invalid",children:r.username})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Last Name"}),Object(w.jsx)(y.a.Control,{type:"string",name:"lastname",id:"lastname",onChange:a,onBlur:n,value:c.lastname,placeholder:"Enter Last Name"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Credit Card Number"}),Object(w.jsx)(y.a.Control,{type:"string",name:"cc",id:"cc",onChange:a,onBlur:n,value:c.cc,placeholder:"Enter Credit Card Number"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Expiration Date"}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})}),Object(w.jsx)(b.a,{children:Object(w.jsx)(y.a.Control,{type:"string",name:"month",id:"month",onChange:a,onBlur:n,value:c.month,placeholder:"Enter month"})}),Object(w.jsx)(b.a,{children:Object(w.jsx)(y.a.Control,{type:"string",name:"day",id:"day",onChange:a,onBlur:n,value:c.day,placeholder:"Enter day"})})]})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Continue"})]})}})};var ie=function(e){return Object(w.jsxs)(h.a,{className:"text-center",children:[Object(w.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"}),Object(w.jsxs)(h.a.Body,{className:"pt-1",children:[Object(w.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name}),Object(w.jsxs)("p",{children:["Days: ",oe(e.start,e.end)]}),Object(w.jsxs)("p",{children:["Pickup Location: ",e.location]}),Object(w.jsxs)("p",{children:["Start Date: ",e.start]}),Object(w.jsxs)("p",{children:["End Date: ",e.end]})]})]})};function oe(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var le=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),h=Object(j.a)(l,2),O=h[0],x=h[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),g=m[0],f=m[1],v=Object(n.useState)(-1),y=Object(j.a)(v,2),C=y[0],D=y[1];Object(n.useEffect)((function(){k.a.ajax({dataType:"json",method:"GET",url:L+"api/shopping-cart",success:function(e){o(e.previousItems),c(!1),console.log(e)}})}),[]);return console.log(i),a?Object(w.jsx)("div",{children:"Loading..."}):g?Object(w.jsxs)(H.a,{show:g,onHide:function(){return f(!1)},animation:!1,children:[Object(w.jsx)(H.a.Header,{closeButton:!0,children:Object(w.jsx)(H.a.Title,{children:"ALERT"})}),Object(w.jsx)(H.a.Body,{children:"Transaction failed, please check your payment info"})]}):(console.log(O),O?Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"Confirmation"}),Object(w.jsxs)(d.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(b.a,{children:Object(w.jsx)("h1",{children:"Thank you for your order!"})})}),Object(w.jsx)(u.a,{children:Object(w.jsxs)(b.a,{children:[Object(w.jsxs)("h3",{children:["Sales ID: ",C]}),Object(w.jsxs)("h3",{children:["Total Price: $",je(i)]})]})}),Object(w.jsx)(u.a,{children:Object(w.jsx)("h2",{children:"Your reservations"})}),Object(w.jsx)(u.a,{children:i.map((function(e,t){return Object(w.jsx)(b.a,{xs:4,children:Object(w.jsx)(ie,{id:e.id,name:e.name,location:e.pickupLocation,start:e.startDate,end:e.endDate,price:e.unitPrice},t)})}))}),Object(w.jsx)(u.a,{children:Object(w.jsx)(E.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(w.jsx)(S.a,{variant:"link",children:">> Back to Car List"})})})]})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)(I,{title:"Payment"}),Object(w.jsx)(d.a,{children:Object(w.jsxs)(u.a,{children:[Object(w.jsx)(b.a,{children:Object(w.jsxs)("h1",{children:["Cart Price: $",je(i)]})}),Object(w.jsx)(b.a,{children:Object(w.jsx)(se,{setSalesId:D,setFailed:f,setCompleted:x})})]})})]}))};function je(e){for(var t=0,a=0;a<e.length;a++){var n=e[a];t+=parseInt(de(n.startDate,n.endDate)*n.unitPrice)}return t}function de(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var ue=function(e){var t=Object(n.useState)({}),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),i=Object(j.a)(s,2),o=i[0],l=i[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(0),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(n.useState)(0),C=Object(j.a)(y,2),D=C[0],T=C[1],N=Object(n.useState)(0),B=Object(j.a)(N,2),E=B[0],I=B[1],_=Object(n.useState)(""),P=Object(j.a)(_,2);P[0],P[1];function G(t){l(!0),console.log("Sending:"),console.log(t),k.a.ajax({dataType:"json",method:"POST",data:t,url:L+"api/sort",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(console.log(t),p(t.message),r(t.results),l(!1))}})}function F(e){l(!0),k.a.ajax({dataType:"json",method:"POST",data:{category:e},url:L+"api/browse-car",success:function(e){p(e.message),r(e.results),l(!1)}})}return Object(n.useEffect)((function(){var t=be(e.match.params);null!=t.retrace?k.a.ajax({dataType:"json",method:"GET",url:L+"api/jump",success:function(e){console.log(e),v(e.sorting.ratingFirst),T(e.sorting.ratingDescend),I(e.sorting.nameDescend),r(e.results),p(e.message),l(!1)}}):null!=t.key&&1===t.key.length?k.a.ajax({dataType:"json",method:"POST",data:{model:t.key},url:L+"api/browse-car",success:function(e){r(e.results),p(e.message),l(!1)}}):null!=t.key?k.a.ajax({dataType:"json",method:"POST",data:{category:t.key},url:L+"api/browse-car",success:function(e){p(e.message),r(e.results),l(!1)}}):k.a.ajax({dataType:"json",method:"POST",data:be(e.match.params),url:L+"api/search-car",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})}),[]),o?Object(w.jsx)("div",{children:"LOADING"}):Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(u.a,{children:[Object(w.jsxs)(b.a,{children:[Object(w.jsx)(S.a,{onClick:function(){l(!0),k.a.ajax({dataType:"json",method:"POST",data:{pageStatus:-1},url:L+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})},children:"Previous"}),Object(w.jsx)(S.a,{className:"ml-3",onClick:function(){l(!0),k.a.ajax({dataType:"json",method:"POST",data:{pageStatus:1},url:L+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})},children:"Next"})]}),Object(w.jsx)(b.a,{children:Object(w.jsx)("p",{children:x})}),Object(w.jsx)(b.a,{children:Object(w.jsxs)("select",{name:"show",id:"cars",onChange:function(t){console.log(t.target.value),l(!0),k.a.ajax({dataType:"json",method:"POST",data:{resultsPerPage:t.target.value},url:L+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(console.log(t),p(t.message),r(t.results),l(!1))}})},children:[Object(w.jsx)("option",{children:"Set show"}),Object(w.jsx)("option",{value:"10",children:"10"}),Object(w.jsx)("option",{value:"25",children:"25"}),Object(w.jsx)("option",{value:"50",children:"50"}),Object(w.jsx)("option",{value:"100",children:"100"})]})}),Object(w.jsxs)(b.a,{children:[Object(w.jsxs)("select",{name:"sort",id:"sort",value:f,onChange:function(e){v(e.target.value),console.log("ratingFirst: "+e.target.value),G({ratingFirst:e.target.value,ratingDescend:D,nameDescend:E})},children:[Object(w.jsx)("option",{value:"1",children:"By Rating First"}),Object(w.jsx)("option",{value:"0",children:"By Title First"})]}),Object(w.jsxs)("select",{name:"sort",id:"sort",value:E,onChange:function(e){I(e.target.value),G({ratingFirst:f,ratingDescend:D,nameDescend:e.target.value})},children:[Object(w.jsx)("option",{value:"0",children:"By Title Ascending"}),Object(w.jsx)("option",{value:"1",children:"By Title Descending"})]}),Object(w.jsxs)("select",{name:"sort",id:"sort",value:D,onChange:function(e){T(e.target.value),G({ratingFirst:f,ratingDescend:e.target.value,nameDescend:E})},children:[Object(w.jsx)("option",{value:"0",children:"By Rating Ascending"}),Object(w.jsx)("option",{value:"1",children:"By Rating Descending"})]})]})]}),Object(w.jsx)(u.a,{children:c.map((function(e,t){return Object(w.jsx)(K,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";"),handleCategorySelect:F},t)}))})]})};function be(e){return"na"!==e.model&&null!=e.model||delete e.model,"na"!==e.year&&null!=e.year||delete e.year,"na"!==e.make&&null!=e.make||delete e.make,"na"!==e.location&&null!=e.location||delete e.location,"na"!==e.key&&null!=e.key||delete e.key,e}var he=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({defaultQuery:Oe}),s=Object(j.a)(r,2),i=s[0],o=s[1];return a?Object(w.jsx)(l.c,{to:"/browse/"+i.model+"/"+i.year+"/"+i.make+"/"+i.location}):Object(w.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t.model&&(t.model="na"),null==t.year&&(t.year="na"),null==t.make&&(t.make="na"),null==t.location&&(t.location="na"),o(t),c(!0),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(w.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Model"}),Object(w.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Year"}),Object(w.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Make"}),Object(w.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(w.jsxs)(y.a.Group,{children:[Object(w.jsx)(y.a.Label,{children:"Car Location"}),Object(w.jsx)(y.a.Control,{type:"string",name:"location",id:"location",onChange:a,onBlur:n,value:c.location,placeholder:"Enter location"})]}),Object(w.jsx)(S.a,{variant:"primary",type:"submit",children:"Search"})]})}})},Oe={model:"na",year:"na",make:"na",location:"na"},xe=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(j.a)(r,2),i=s[0],o=s[1],h=Object(n.useState)(!1),O=Object(j.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(""),g=Object(j.a)(m,2),f=g[0],v=g[1];function y(e){v("/browse/na/na/na/na/"+e.target.id),p(!0)}return Object(n.useEffect)((function(){console.log("Asdfasdf"),k.a.ajax({dataType:"json",method:"GET",url:L+"api/categories",success:function(e){console.log(e),c(e.map((function(e){return e.category}))),o(!1)}})}),[]),i?Object(w.jsx)("div",{children:"LOADING"}):x?Object(w.jsx)(l.c,{to:f}):Object(w.jsx)(d.a,{children:Object(w.jsxs)(u.a,{children:[Object(w.jsxs)(b.a,{children:[Object(w.jsx)("h1",{children:" Search "}),Object(w.jsx)(he,{})]}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("h1",{children:" Browse by Vehicle Type "}),a.map((function(e){return Object(w.jsx)(S.a,{id:e,onClick:y,variant:"link",children:e})}))]}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("h1",{children:" Browse by Vehicle Name "}),pe.map((function(e){return Object(w.jsx)(S.a,{id:e,onClick:y,variant:"link",children:e})}))]})]})})},pe=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","*"];var me=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(l.d,{path:"/login",render:function(){return Object(w.jsx)(T,{})}})})},ge=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(Q,{}),Object(w.jsx)(l.d,{path:"/",exact:!0,render:function(){return Object(w.jsx)(B,{})}}),Object(w.jsx)(l.d,{path:"/search/:model?/:year?/:make?/:location?",render:function(e){return Object(w.jsx)(X,Object(i.a)({},e))}}),Object(w.jsx)(l.d,{path:"/browse/:model?/:year?/:make?/:location?/:key?/:retrace?",render:function(e){return Object(w.jsx)(ue,Object(i.a)({},e))}}),Object(w.jsx)(l.d,{path:"/mycart",render:function(){return Object(w.jsx)(re,{})}}),Object(w.jsx)(l.d,{path:"/payment",render:function(){return Object(w.jsx)(le,{})}}),Object(w.jsx)(l.d,{path:"/cars/:carId",render:function(e){return Object(w.jsx)(U,Object(i.a)({},e))}}),Object(w.jsx)(l.d,{path:"/locations/:locationId",render:function(e){return Object(w.jsx)(R,Object(i.a)({},e))}}),Object(w.jsx)(l.d,{path:"/browseby",render:function(){return Object(w.jsx)(xe,{})}})]})},fe=function(){return Object(w.jsx)(o.BrowserRouter,{basename:"/ZotRides",children:Object(w.jsxs)(l.g,{children:[Object(w.jsx)(l.d,{exact:!0,path:"/(login)",component:me}),Object(w.jsx)(l.d,{component:ge})]})})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,290)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(fe,{})}),document.getElementById("root")),ve()},91:function(e,t,a){}},[[275,1,2]]]);
//# sourceMappingURL=main.59e0348d.chunk.js.map