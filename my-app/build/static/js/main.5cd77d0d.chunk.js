(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){},260:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),s=a.n(r),i=(a(139),a(33)),o=(a(140),a(141),a(53)),l=a(10),j=a(8),d=a(280),b=a(281),h=a(133),u=a(288),O=a(97),x=a(127),p=a.n(x),m=a(23),g=a.n(m),f=a(35),v=a(39),y=(a(44),a(285)),_=a(279),L=a(15),S=a.n(L),k=a(1),C=function(e){return Object(k.jsx)(v.a,{initialValues:{username:"mcosley@gmail.com",password:"peiod3"},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.a.ajax({dataType:"json",method:"POST",data:a,url:"http://localhost:8080/cs122b_spring21_team_16_war/api/login",success:function(t){console.log(JSON.stringify(t)),"fail"===t.status?e.setError("Login failed (Invalid username/password"):e.setSuccess(!0)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(t){var a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,r=t.values,s=t.touched,i=t.errors;return Object(k.jsxs)(y.a,{noValidate:!0,onSubmit:a,children:[Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Username"}),Object(k.jsx)(y.a.Control,{type:"string",name:"username",id:"username",onChange:n,onBlur:c,value:r.username,placeholder:"Enter username",isInvalid:s.username&&i.username}),Object(k.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.username})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Password"}),Object(k.jsx)(y.a.Control,{type:"password",name:"password",id:"password",onChange:n,onBlur:c,value:r.password,placeholder:"Enter password",isInvalid:s.password&&i.password}),Object(k.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.password})]}),Object(k.jsx)(_.a,{variant:"primary",type:"submit",children:"Login"}),Object(k.jsx)(_.a,{variant:"link",value:"register",onClick:e.switchForm,children:"Create an Account"})]})}})},w=function(){var e=Object(n.useState)("login"),t=Object(j.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!1),r=Object(j.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(),x=Object(j.a)(o,2),m=x[0],g=x[1],f=Object(n.useState)(!1),v=Object(j.a)(f,2),y=v[0],_=v[1];return s?Object(k.jsx)(l.c,{to:"/"}):Object(k.jsxs)(d.a,{className:"pt-5",children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(h.a,{children:Object(k.jsx)("h1",{children:"Welcome to ZotRides"})})}),Object(k.jsx)(b.a,{children:Object(k.jsx)(h.a,{children:Object(k.jsx)(u.a,{children:Object(k.jsx)(p.a,{active:y,spinner:!0,text:"Logging in...",children:Object(k.jsxs)(u.a.Body,{children:[Object(k.jsx)(C,{switchForm:function(e){g(),"login"===e.target.value?a("login"):a("register")},setLoading:_,setError:g,setSuccess:i}),m&&Object(k.jsx)(O.a,{in:!0,children:Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsxs)("p",{children:["ERROR: ",function(e){return e.message?e.message:e}(m)]})]})})]})})})})})]})},N=a(282),B=(a(260),a(289)),E=a(14);function T(e){return Object(k.jsx)(h.a,{xs:4,className:"pt-3",children:Object(k.jsxs)(u.a,{className:"text-center",children:[Object(k.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(k.jsx)(u.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"})}),Object(k.jsxs)(u.a.Body,{className:"pt-1",children:[Object(k.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(k.jsx)(u.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name})}),Object(k.jsx)("p",{children:e.category}),Object(k.jsxs)("p",{children:[e.rating," \u2605 (",e.votes," votes)"]}),Object(k.jsx)(B.a,{variant:"flush",children:e.locations.map((function(t,a){return Object(k.jsx)(E.LinkContainer,{to:"/locations/"+e.locationId[a],children:Object(k.jsxs)(B.a.Item,{children:[t," ",Object(k.jsx)("br",{}),e.phone[a]]},a)})}))}),Object(k.jsx)(E.LinkContainer,{to:"/cars/"+e.id,children:Object(k.jsx)(_.a,{children:"Reserve"})})]})]})})}function I(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){S.a.ajax({dataType:"json",method:"GET",url:"http://localhost:8080/cs122b_spring21_team_16_war/api/cars",success:function(e){o(e),c(!1),console.log(e)}})}),[]),a?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{children:[Object(k.jsxs)(N.a,{className:"hero-section",children:[Object(k.jsx)("h1",{children:"Welcome to ZotRides"}),Object(k.jsx)("p",{className:"subtitle",children:"Book unforgettable cars from locations around the world"})]}),Object(k.jsx)(d.a,{fluid:!0,children:Object(k.jsx)(b.a,{children:i.map((function(e,t){return Object(k.jsx)(T,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";")},t)}))})})]})}a(90);var U=function(e){return Object(k.jsx)(N.a,{className:"header",children:Object(k.jsx)(d.a,{children:Object(k.jsx)("h1",{children:e.title})})})},G=a(98),V=a.n(G),M=function(e){return Object(k.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(t){var a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,r=t.values,s=t.errors,i=t.setFieldValue;return Object(k.jsxs)(y.a,{noValidate:!0,onSubmit:a,children:[Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Start Date"}),Object(k.jsx)("br",{}),Object(k.jsx)(V.a,{name:"startDate",value:r.startDate,onChange:function(e){return i("startDate",e)}}),Object(k.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.username})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"End Date"}),Object(k.jsx)("br",{}),Object(k.jsx)(V.a,{name:"endDate",value:r.endDate,onChange:function(e){return i("endDate",e)}}),Object(k.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.password})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Pickup Location"}),Object(k.jsxs)("select",{name:"location",value:r.location,onChange:n,onBlur:c,style:{display:"block"},children:[Object(k.jsx)("option",{value:"",label:"Select a location"}),e.locations.map((function(t,a){return Object(k.jsx)("option",{value:e.locationids[a],children:t},a)}))]})]}),Object(k.jsx)(_.a,{variant:"primary",type:"submit",children:"Add to cart"})]})}})};function F(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(P),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){S.a.ajax({dataType:"json",method:"GET",url:"http://localhost:8080/cs122b_spring21_team_16_war/api/single-car?id="+e.match.params.carId,success:function(e){l(e[0]),r(!1)}})}),[]),c?Object(k.jsx)("div",{children:"Loading..."}):(console.log(e),Object(k.jsxs)("div",{children:[Object(k.jsx)(U,{title:"Single Car Page"}),Object(k.jsxs)(d.a,{fluid:!0,className:"pl-5",children:[Object(k.jsxs)(b.a,{children:[Object(k.jsxs)(h.a,{xs:7,children:[Object(k.jsxs)(b.a,{children:[Object(k.jsx)(h.a,{xs:2,children:Object(k.jsx)("p",{style:{textAlign:"right"},children:"The car"})}),Object(k.jsxs)(h.a,{children:[Object(k.jsx)("h1",{children:o.car_name}),Object(k.jsxs)("p",{children:[o.car_rating," \u2605 (",o.car_votes," votes)"]})]})]}),Object(k.jsxs)(b.a,{children:[Object(k.jsx)(h.a,{xs:2,children:Object(k.jsx)("p",{style:{textAlign:"right"},children:"Hosted at"})}),Object(k.jsx)(h.a,{children:o.location_address.split(";").map((function(e,t){return Object(k.jsx)("h4",{children:e},t)}))})]})]}),Object(k.jsx)(h.a,{children:Object(k.jsx)(M,{locationids:o.location_ids.split(";"),locations:o.location_address.split(";")})})]}),Object(k.jsx)(b.a,{children:Object(k.jsx)(E.LinkContainer,{to:"/",children:Object(k.jsx)("a",{children:">> Back to homepage"})})})]})]}))}var P={car_category:"NULL",car_id:"NULL",car_name:"NULL",car_rating:-1,car_votes:-1,location_address:["NULL","NULL","NULL"],location_phone:["NULL","NULL","NULL"]};function R(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(D),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){S.a.ajax({dataType:"json",method:"GET",url:"http://localhost:8080/cs122b_spring21_team_16_war/api/single-loc?id="+e.match.params.locationId,success:function(e){l(e[0]),r(!1),console.log(e)}})}),[]),c?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{children:[Object(k.jsx)(U,{title:"Single Location Page"}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(b.a,{children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)("p",{children:o.cars_ids}),Object(k.jsx)("p",{children:o.cars_offered}),Object(k.jsx)("p",{children:o.location_address}),Object(k.jsx)("p",{children:o.location_id}),Object(k.jsx)("p",{children:o.location_phone})]})}),Object(k.jsx)(b.a,{children:Object(k.jsx)(E.LinkContainer,{to:"/",children:Object(k.jsx)("a",{children:">>Back to homepage"})})})]})]})}var D={cars_ids:"NULL",cars_offered:"NULL",location_address:"NULL",location_id:"NULL",location_phone:"NULL"},q=a(286),A=a(287),H=a(284),W=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({defaultQuery:z}),i=Object(j.a)(s,2),o=i[0],d=i[1];return c?(e.setModalShow(!1),Object(k.jsx)(l.c,{to:"/search/"+o.model+"/"+o.year+"/"+o.make+"/"+o.location})):Object(k.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t.model&&(t.model="na"),null==t.year&&(t.year="na"),null==t.make&&(t.make="na"),null==t.location&&(t.location="na"),d(t),r(!0),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(k.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Car Model"}),Object(k.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Car Year"}),Object(k.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Car Make"}),Object(k.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(k.jsxs)(y.a.Group,{children:[Object(k.jsx)(y.a.Label,{children:"Car Location"}),Object(k.jsx)(y.a.Control,{type:"string",name:"location",id:"location",onChange:a,onBlur:n,value:c.location,placeholder:"Enter location"})]}),Object(k.jsx)(_.a,{variant:"primary",type:"submit",children:"Search"})]})}})},z={model:"na",year:"na",make:"na",location:"na"},J=function(e){return Object(k.jsxs)(H.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(k.jsx)(H.a.Header,{closeButton:!0,children:Object(k.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Search for Car"})}),Object(k.jsx)(H.a.Body,{children:Object(k.jsx)(W,{setModalShow:e.setModalShow})})]}))};function Y(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)(J,{show:c,onHide:function(){return r(!1)},setModalShow:r}),Object(k.jsxs)(q.a,{variant:"light",className:"myNav",children:[Object(k.jsx)(E.LinkContainer,{to:"/",children:Object(k.jsx)(q.a.Brand,{children:Object(k.jsx)("img",{src:"https://i.ibb.co/hKLvRdN/Screen-Shot-2021-04-16-at-4-24-19-PM.png",style:{width:"145px"}})})}),Object(k.jsx)(q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(k.jsxs)(q.a.Collapse,{id:"basic-navbar-nav",children:[Object(k.jsxs)(A.a,{className:"mr-auto",children:[Object(k.jsx)(A.a.Link,{onClick:function(){return r(!0)},children:"Search"}),Object(k.jsx)(E.LinkContainer,{to:"/browse/type",children:Object(k.jsx)(A.a.Link,{children:"Browse by Vehicle Types"})}),Object(k.jsx)(E.LinkContainer,{to:"/browse/name",children:Object(k.jsx)(A.a.Link,{children:"Browse by Vehicle Name"})})]}),Object(k.jsxs)(A.a,{className:"ml-auto",children:[Object(k.jsx)(E.LinkContainer,{to:"/profile",children:Object(k.jsx)(A.a.Link,{children:"Profile"})}),Object(k.jsx)(E.LinkContainer,{to:"/mycart",children:Object(k.jsx)(A.a.Link,{children:"My Cart"})}),Object(k.jsx)(E.LinkContainer,{to:"/cart",children:Object(k.jsx)(A.a.Link,{children:"Sign out"})})]})]})]})]})}var Z=a(283),K=function(e){return Object(k.jsxs)(d.a,{fluid:!0,children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(h.a,{children:Object(k.jsx)(Z.a,{children:e.options.map((function(t,a){return Object(k.jsx)(_.a,{variant:"link",id:t,onClick:e.handleOptionSelect,children:t},a)}))})})}),Object(k.jsx)(b.a,{children:e.cars.map((function(e,t){return Object(k.jsx)(T,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";")},t)}))})]})},Q=function(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1];Object(n.useEffect)((function(){var t;t="type"===e.match.params.query?{category:"pickup"}:{model:"a"},S.a.ajax({dataType:"json",method:"GET",data:t,url:"http://localhost:8080/cs122b_spring21_team_16_war/api/browse-car",success:function(e){l(e),r(!1)}})}),[]);var d=function(t){var a;a="type"===e.match.params.query?{category:t.target.id.toString().toLowerCase()}:{model:t.target.id.toString()},console.log(a),S.a.ajax({dataType:"json",method:"GET",data:a,url:"http://localhost:8080/cs122b_spring21_team_16_war/api/browse-car",success:function(e){l(e),r(!1),console.log(e)}})};return c?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{children:[Object(k.jsx)(U,{title:"Browse by Vehicle "+e.match.params.query}),"type"===e.match.params.query&&Object(k.jsx)(K,{handleOptionSelect:d,cars:o,options:["Pickup","Wagon","Van","Coupe","Sedan","Hatchback","Convertible","SUV"]}),"name"===e.match.params.query&&Object(k.jsx)(K,{handleOptionSelect:d,cars:o,options:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]})]})},X=function(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){S.a.ajax({dataType:"json",method:"GET",data:$(e.match.params),url:"http://localhost:8080/cs122b_spring21_team_16_war/api/search-car",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):l(t),r(!1)}})}),[]),c?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{children:[Object(k.jsx)(U,{title:"Search Results"}),Object(k.jsxs)(d.a,{fluid:!0,children:[Object(k.jsx)(b.a,{children:Object(k.jsxs)(h.a,{children:[Object(k.jsxs)("p",{children:["Model: ",e.match.params.model]}),Object(k.jsxs)("p",{children:["Year: ",e.match.params.year]}),Object(k.jsxs)("p",{children:["Make: ",e.match.params.make]}),Object(k.jsxs)("p",{children:["Location: ",e.match.params.location]})]})}),Object(k.jsx)(b.a,{children:o.map((function(e,t){return Object(k.jsx)(T,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";")},t)}))})]})]})};function $(e){return"na"!==e.model&&null!=e.model||delete e.model,"na"!==e.year&&null!=e.year||delete e.year,"na"!==e.make&&null!=e.make||delete e.make,"na"!==e.location&&null!=e.location||delete e.location,e}var ee=function(){return Object(k.jsx)(U,{title:"My Cart"})};var te=function(){return Object(k.jsx)("div",{children:Object(k.jsx)(l.d,{path:"/login",render:function(){return Object(k.jsx)(w,{})}})})},ae=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(Y,{}),Object(k.jsx)(l.d,{path:"/browse/:query",render:function(e){return Object(k.jsx)(Q,Object(i.a)({},e))}}),Object(k.jsx)(l.d,{path:"/browse/:query/:category",render:function(e){return Object(k.jsx)(Q,Object(i.a)({},e))}}),Object(k.jsx)(l.d,{path:"/",exact:!0,render:function(){return Object(k.jsx)(I,{})}}),Object(k.jsx)(l.d,{path:"/search/:model?/:year?/:make?/:location?",render:function(e){return Object(k.jsx)(X,Object(i.a)({},e))}}),Object(k.jsx)(l.d,{path:"/mycart",render:function(){return Object(k.jsx)(ee,{})}}),Object(k.jsx)(l.d,{path:"/cars/:carId",render:function(e){return Object(k.jsx)(F,Object(i.a)({},e))}}),Object(k.jsx)(l.d,{path:"/locations/:locationId",render:function(e){return Object(k.jsx)(R,Object(i.a)({},e))}})]})},ne=function(){return Object(k.jsx)(o.BrowserRouter,{basename:"/cs122b_spring21_team_16_war",children:Object(k.jsxs)(l.g,{children:[Object(k.jsx)(l.d,{exact:!0,path:"/(login)",component:te}),Object(k.jsx)(l.d,{component:ae})]})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,290)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(ne,{})}),document.getElementById("root")),ce()},90:function(e,t,a){}},[[276,1,2]]]);
//# sourceMappingURL=main.5cd77d0d.chunk.js.map