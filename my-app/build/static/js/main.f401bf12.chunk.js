(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{166:function(e,t,a){},167:function(e,t,a){},203:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),s=a.n(r),i=(a(166),a(29)),o=(a(167),a(168),a(77)),l=a(13),j=a(5),d=a(324),u=a(325),b=a(154),h=a(332),O=a(111),x=a(78),p=a.n(x),m=a(17),g=a.n(m),f=a(21),v=a(22),y=a(329),C=a(323),S=a(18),k=a(12),L=a.n(k),w="http://18.209.19.10:80/ZotRides/",T=a(91),E=a(1),D=function(e){return Object(E.jsx)(v.a,{initialValues:{username:"c@email.com",password:"c2"},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Sending"),console.log(a),L.a.ajax({dataType:"json",method:"POST",data:a,url:w+"api/login",success:function(t){console.log(JSON.stringify(t)),"fail"===t.status?e.setError(t.message):e.setSuccess(!0)},error:function(t){e.setError("Invalid email/password")}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values,r=e.touched,s=e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Username"}),Object(E.jsx)(y.a.Control,{type:"string",name:"username",id:"username",onChange:a,onBlur:n,value:c.username,placeholder:"Enter username",isInvalid:r.username&&s.username}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.username})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Password"}),Object(E.jsx)(y.a.Control,{type:"password",name:"password",id:"password",onChange:a,onBlur:n,value:c.password,placeholder:"Enter password",isInvalid:r.password&&s.password}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.password})]}),Object(E.jsx)(y.a.Group,{children:Object(E.jsx)(T.a,{sitekey:"6LdFer8aAAAAACdsGnif7x0qN-yvVYsYPlyMCIAW",onChange:function(e){return c.recaptcha=e}})}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Login"}),Object(E.jsx)(S.LinkContainer,{to:"/_dashboard",children:Object(E.jsx)(C.a,{variant:"link",value:"register",children:"Employee Login"})})]})}})},N=function(){var e=Object(n.useState)("login"),t=Object(j.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!1),r=Object(j.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(),x=Object(j.a)(o,2),m=x[0],g=x[1],f=Object(n.useState)(!1),v=Object(j.a)(f,2),y=v[0],C=v[1];return s?Object(E.jsx)(l.c,{to:"/"}):Object(E.jsxs)(d.a,{className:"pt-5",children:[Object(E.jsx)(u.a,{children:Object(E.jsx)(b.a,{children:Object(E.jsx)("h1",{children:"Welcome to ZotRides"})})}),Object(E.jsx)(u.a,{children:Object(E.jsx)(b.a,{children:Object(E.jsx)(h.a,{children:Object(E.jsx)(p.a,{active:y,spinner:!0,text:"Logging in...",children:Object(E.jsxs)(h.a.Body,{children:[Object(E.jsx)(D,{switchForm:function(e){g(),"login"===e.target.value?a("login"):a("register")},setLoading:C,setError:g,setSuccess:i}),m&&Object(E.jsx)(O.a,{in:!0,children:Object(E.jsxs)("div",{children:[Object(E.jsx)("br",{}),Object(E.jsxs)("p",{children:["ERROR: ",function(e){return e.message?e.message:e}(m)]})]})})]})})})})})]})},B=a(326),I=a(161);a(203);function P(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],h=Object(n.useState)([]),O=Object(j.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(!1),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(n.useState)(),S=Object(j.a)(y,2),k=S[0],T=S[1],D=Object(n.useState)(!1),N=Object(j.a)(D,2),P=N[0],G=N[1],_=Object(n.useState)({}),A=Object(j.a)(_,2),M=A[0],F=A[1],R=Object(n.useState)(-1),U=Object(j.a)(R,2),V=U[0],H=U[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){return function(e){var t="";e.length>=3&&Object.keys(M).some((function(a){return t=a,~a.indexOf(e.toLowerCase())}))?(console.log("Autocomplete options populated from cache"),p(M[t]),console.log("Used options:"),console.log(M[t])):e.length>=3?(console.log("Autocomplete options populated from database"),L.a.ajax({dataType:"json",method:"POST",data:{token:e.toLowerCase()},url:w+"api/autocomplete",success:function(t){p(t.results);var a=M;a[e]=t.results,console.log("Added to cache"),F(a),console.log("Used options:"),console.log(a[e])}})):p([])}(i)}),300);return function(){return clearTimeout(e)}}),[i]),P?Object(E.jsx)(l.c,{to:"/browse/na/na/na/na/na/na/"+i}):f?Object(E.jsx)(l.c,{to:"/cars/"+k}):Object(E.jsx)("div",{children:Object(E.jsx)(B.a,{className:"hero-section",children:Object(E.jsxs)(d.a,{children:[Object(E.jsx)("h1",{children:"Welcome to ZotRides"}),Object(E.jsx)("p",{className:"subtitle",children:"Book unforgettable cars from locations around the world"}),Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{children:Object(E.jsx)(I.a,{onInputChange:function(e){o(e.toLowerCase())},delay:300,id:"basic-typeahead-single",labelKey:"name",onChange:function(e){c(e),x.map((function(t){e[0]===t.car_name&&T(t.car_id)})),v(!0)},options:x.map((function(e){return e.car_name})),placeholder:"Enter model name...",selected:a,onKeyDown:function(e){"Enter"===e.key&&-1===V&&G(!0)},filterBy:function(){return!0},children:function(e){H(e.activeIndex)}})}),Object(E.jsx)(b.a,{xs:1,children:Object(E.jsx)(C.a,{onClick:function(){0!==i.length&&G(!0)},children:"Search"})})]})]})})})}a(99);var G=function(e){return Object(E.jsx)(B.a,{className:"header",children:Object(E.jsx)(d.a,{children:Object(E.jsx)("h1",{children:e.title})})})},_=a(58),A=a.n(_),M=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1];return c?Object(E.jsx)(l.c,{to:"/mycart"}):Object(E.jsx)(v.a,{initialValues:{name:e.name,carID:e.carID,unitPrice:e.unitPrice},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.a.ajax({dataType:"json",method:"POST",data:Object(i.a)(Object(i.a)({},t),{},{endDate:F(t.endDate),startDate:F(t.startDate)}),url:w+"api/shopping-cart",success:function(e){console.log(JSON.stringify(e)),r(!0)}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(t){var a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,r=t.values,s=t.errors,i=t.setFieldValue;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:a,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Start Date"}),Object(E.jsx)("br",{}),Object(E.jsx)(A.a,{name:"startDate",value:r.startDate,onChange:function(e){return i("startDate",e)}}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.username})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"End Date"}),Object(E.jsx)("br",{}),Object(E.jsx)(A.a,{name:"endDate",value:r.endDate,onChange:function(e){return i("endDate",e)}}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.password})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Pickup Location"}),Object(E.jsxs)("select",{name:"pickupLocation",value:r.pickLocation,onChange:n,onBlur:c,style:{display:"block"},children:[Object(E.jsx)("option",{value:"",label:"Select a location"}),e.locations.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Add to cart"})]})}})};function F(e){return function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();a.length<2&&(a="0"+a);n.length<2&&(n="0"+n);return[c,a,n].join("/")}(e)}function R(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(U),i=Object(j.a)(s,2),o=i[0],h=i[1],O=Object(n.useState)(!1),x=Object(j.a)(O,2),p=x[0],m=x[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/single-car?id="+e.match.params.carId,success:function(e){h(e[0]),r(!1)}})}),[]),c?Object(E.jsx)("div",{children:"Loading..."}):(console.log(p),p?Object(E.jsx)(l.c,{to:"/browse/na/na/na/na/na/t"}):(console.log(),Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"Single Car Page"}),Object(E.jsxs)(d.a,{fluid:!0,className:"pl-5",children:[Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(b.a,{xs:7,children:[Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:2,children:Object(E.jsx)("p",{style:{textAlign:"right"},children:"The car"})}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{children:o.car_name}),Object(E.jsx)(S.LinkContainer,{to:"/browse/na/na/na/na/"+o.car_category,children:Object(E.jsx)("p",{children:Object(E.jsx)("i",{children:o.car_category})})}),Object(E.jsxs)("p",{children:[o.car_rating," \u2605 (",o.car_votes," votes)"]})]})]}),Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:2,children:Object(E.jsx)("p",{style:{textAlign:"right"},children:"Hosted at"})}),Object(E.jsx)(b.a,{children:o.location_address.split(";").map((function(e,t){return Object(E.jsx)(b.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/locations/"+o.location_ids.split(";")[t],children:Object(E.jsx)(C.a,{variant:"link",children:e},t)})})}))})]})]}),Object(E.jsx)(b.a,{children:Object(E.jsx)(M,{name:o.car_name,carID:o.car_id,unitPrice:120,locationids:o.location_ids.split(";"),locations:o.location_address.split(";")})})]}),Object(E.jsx)(u.a,{children:Object(E.jsx)(C.a,{variant:"link",onClick:function(){m(!0)},children:">> Back to Car List"})})]})]})))}var U={car_category:"NULL",car_id:"NULL",car_name:"NULL",car_rating:-1,car_votes:-1,location_address:["NULL","NULL","NULL"],location_phone:["NULL","NULL","NULL"]};function V(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(H),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/single-loc?id="+e.match.params.locationId,success:function(e){l(e[0]),r(!1),console.log(e)}})}),[]),c?Object(E.jsx)("div",{children:"Loading..."}):(console.log(o),Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"Single Location Page"}),Object(E.jsxs)(d.a,{fluid:!0,children:[Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{xs:7,children:[Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:2,children:Object(E.jsx)("p",{style:{textAlign:"right"},children:"The location"})}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{children:o.location_address}),Object(E.jsx)("p",{children:o.location_phone})]})]}),Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:2,children:Object(E.jsx)("p",{style:{textAlign:"right"},children:"Cars here"})}),Object(E.jsx)(b.a,{children:o.cars_offered.split(";").map((function(e,t){return Object(E.jsx)(b.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/cars/"+o.cars_ids.split(";")[t],children:Object(E.jsx)(C.a,{variant:"link",children:e},t)})})}))})]})]})}),Object(E.jsx)(u.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(E.jsx)(C.a,{variant:"link",children:">> Back to Car List"})})})]})]}))}var H={cars_ids:"NULL",cars_offered:"NULL",location_address:"NULL",location_id:"NULL",location_phone:"NULL"},z=a(330),W=a(331),Y=a(328),K=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({defaultQuery:J}),i=Object(j.a)(s,2),o=i[0],d=i[1];return c?(e.setModalShow(!1),Object(E.jsx)(l.c,{to:"/browse/"+o.model+"/"+o.year+"/"+o.make+"/"+o.location})):Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t.model&&(t.model="na"),null==t.year&&(t.year="na"),null==t.make&&(t.make="na"),null==t.location&&(t.location="na"),d(t),r(!0),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Model"}),Object(E.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Year"}),Object(E.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Make"}),Object(E.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Location"}),Object(E.jsx)(y.a.Control,{type:"string",name:"location",id:"location",onChange:a,onBlur:n,value:c.location,placeholder:"Enter location"})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Search"})]})}})},J={model:"na",year:"na",make:"na",location:"na"},Z=function(e){return Object(E.jsxs)(Y.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{id:"contained-modal-title-vcenter",children:"Search for Car"})}),Object(E.jsx)(Y.a.Body,{children:Object(E.jsx)(K,{setModalShow:e.setModalShow})})]}))},Q=function(e){var t=Object(n.useState)(),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),o=Object(j.a)(s,2),d=o[0],u=o[1],b=Object(n.useState)(""),h=Object(j.a)(b,2),O=h[0],x=h[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),g=m[0],f=m[1];function v(t){e.setModalShow(!1),x("/browse/na/na/na/na/"+t.target.id),f(!0)}return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/categories",success:function(e){console.log(e),r(e.map((function(e){return e.category}))),u(!1)}})}),[]),g?Object(E.jsx)(l.c,{to:O}):d?Object(E.jsx)("div",{}):Object(E.jsxs)(Y.a,Object(i.a)(Object(i.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{id:"contained-modal-title-vcenter",children:"Search for Car"})}),Object(E.jsx)(Y.a.Body,{children:c.map((function(e){return Object(E.jsx)(C.a,{id:e,onClick:v,variant:"link",children:e})}))})]}))};function $(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2);u[0],u[1];return console.log(o),Object(E.jsxs)("div",{children:[Object(E.jsx)(Q,{show:o,onHide:function(){return l(!1)},setModalShow:l}),Object(E.jsx)(Z,{show:c,onHide:function(){return r(!1)},setModalShow:r}),Object(E.jsxs)(z.a,{variant:"light",className:"myNav",children:[Object(E.jsx)(S.LinkContainer,{to:"/",children:Object(E.jsx)(z.a.Brand,{children:Object(E.jsx)("img",{src:"https://i.ibb.co/hKLvRdN/Screen-Shot-2021-04-16-at-4-24-19-PM.png",style:{width:"145px"}})})}),Object(E.jsx)(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(E.jsxs)(z.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsx)(W.a,{className:"mr-auto",children:Object(E.jsx)(S.LinkContainer,{to:"/browseby",children:Object(E.jsx)(W.a.Link,{children:"Make Query"})})}),Object(E.jsx)(W.a,{className:"ml-auto",children:Object(E.jsx)(S.LinkContainer,{to:"/mycart",children:Object(E.jsx)(W.a.Link,{children:"My Cart"})})})]})]})]})}var q=a(333);a(217);function X(e){var t=Object(n.useState)("https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",data:{make:ee(e.name),category:e.category},url:w+"/api/get-image",success:function(e){r(e.imageurl)}})}),[]),Object(E.jsx)(b.a,{xs:4,className:"pt-3",children:Object(E.jsxs)(h.a,{className:"text-center card",children:[Object(E.jsx)(S.LinkContainer,{to:"/cars/"+e.id,children:Object(E.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:c})}),Object(E.jsxs)(h.a.Body,{className:"pt-1",children:[Object(E.jsx)(S.LinkContainer,{to:"/cars/"+e.id,children:Object(E.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name})}),Object(E.jsx)("p",{onClick:function(){console.log("yes"),e.handleCategorySelect(e.category)},children:e.category}),Object(E.jsxs)("p",{children:[e.rating," \u2605 (",e.votes," votes)"]}),Object(E.jsx)(q.a,{variant:"flush",children:e.locations.map((function(t,a){return Object(E.jsx)(S.LinkContainer,{to:"/locations/"+e.locationId[a],children:Object(E.jsxs)(q.a.Item,{children:[t," ",Object(E.jsx)("br",{}),e.phone[a]]},a)})}))}),Object(E.jsx)(S.LinkContainer,{to:"/cars/"+e.id,children:Object(E.jsx)(C.a,{children:"Reserve"})})]})]})})}function ee(e){var t=e.split(" ")[0];return"Alfa"==t?"Alfa Romeo":"Aston"==t?"Aston Martin":t}var te=function(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"POST",data:ae(e.match.params),url:w+"api/search-car",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):l(t),r(!1)}})}),[]),c?Object(E.jsx)("div",{children:"Loading..."}):Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"Search Results"}),Object(E.jsxs)(d.a,{fluid:!0,children:[Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsxs)("p",{children:["Model: ",e.match.params.model]}),Object(E.jsxs)("p",{children:["Year: ",e.match.params.year]}),Object(E.jsxs)("p",{children:["Make: ",e.match.params.make]}),Object(E.jsxs)("p",{children:["Location: ",e.match.params.location]})]})}),Object(E.jsx)(u.a,{children:o.map((function(e,t){return Object(E.jsx)(X,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";")},t)}))})]})]})};function ae(e){return"na"!==e.model&&null!=e.model||delete e.model,"na"!==e.year&&null!=e.year||delete e.year,"na"!==e.make&&null!=e.make||delete e.make,"na"!==e.location&&null!=e.location||delete e.location,e}var ne=function(e){return Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.a.ajax({dataType:"json",method:"POST",data:{endDate:ce(a.endDate),startDate:ce(a.startDate),itemID:e.id},url:w+"api/modify-cart-item",success:function(e){console.log(e),window.location.reload(!1)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.values,n=e.errors,c=e.setFieldValue;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Start Date"}),Object(E.jsx)("br",{}),Object(E.jsx)(A.a,{name:"startDate",value:a.startDate,onChange:function(e){return c("startDate",e)}}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:n.username})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"End Date"}),Object(E.jsx)("br",{}),Object(E.jsx)(A.a,{name:"endDate",value:a.endDate,onChange:function(e){return c("endDate",e)}}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:n.password})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Update Reservation"})]})}})};function ce(e){return function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();a.length<2&&(a="0"+a);n.length<2&&(n="0"+n);return[c,a,n].join("/")}(e)}var re=function(e){return Object(E.jsxs)(Y.a,{show:e.showUpdate,onHide:function(){return e.setUpdate(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{id:"contained-modal-title-vcenter",children:"Update Reservation"})}),Object(E.jsx)(Y.a.Body,{children:Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:6,style:{backgroundImage:"url('https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg')",backgroundSize:"cover",backgroundPosition:"center"}}),Object(E.jsx)(b.a,{children:Object(E.jsx)(ne,{id:e.carID})})]})})]})},se=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(E.jsxs)("div",{children:[Object(E.jsx)(re,{showUpdate:c,setUpdate:r,carID:e.id}),Object(E.jsxs)(h.a,{className:"text-center",children:[Object(E.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"}),Object(E.jsxs)(h.a.Body,{className:"pt-1",children:[Object(E.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name}),Object(E.jsxs)("p",{children:["Price per Day: $",e.price]}),Object(E.jsxs)("p",{children:["Total Price: $",e.price*ie(e.start,e.end)]}),Object(E.jsxs)("p",{children:["Days: ",ie(e.start,e.end)]}),Object(E.jsxs)("p",{children:["Pickup Location: ",e.location]}),Object(E.jsxs)("p",{children:["Start Date: ",e.start]}),Object(E.jsxs)("p",{children:["End Date: ",e.end]}),Object(E.jsx)(C.a,{onClick:function(){r(!c)},children:"Update"}),Object(E.jsx)(C.a,{className:"ml-4",onClick:function(){L.a.ajax({dataType:"json",method:"POST",data:{itemID:e.id},url:w+"api/delete-cart-item",success:function(e){console.log(e),window.location.reload(!1)}})},children:"Remove"})]})]})]})};function ie(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var oe=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/shopping-cart",success:function(e){o(e.previousItems),c(!1),console.log(e)}})}),[]),a?Object(E.jsx)("div",{children:"Loading..."}):Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"My Cart"}),Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:8,children:i.map((function(e,t){return Object(E.jsx)(se,{id:e.id,name:e.name,location:e.pickupLocation,start:e.startDate,end:e.endDate,price:e.unitPrice},t)}))}),Object(E.jsx)(b.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/payment",children:Object(E.jsx)(C.a,{children:"Continue to Payment"})})})]}),Object(E.jsx)(u.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(E.jsx)(C.a,{variant:"link",children:">> Back to Car List"})})})]})]})},le=function(e){return Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.a.ajax({dataType:"json",method:"POST",data:{firstName:a.firstname,lastName:a.lastname,ccNumber:a.cc,expDate:a.year+"/"+a.month+"/"+a.day},url:w+"api/payment",success:function(t){console.log(t),"fail"===t.status?e.setFailed(!0):(e.setCompleted(!0),e.setSalesId(t.message))}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values,r=e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"First name"}),Object(E.jsx)(y.a.Control,{type:"string",name:"firstname",id:"firstname",onChange:a,onBlur:n,value:c.firstname,placeholder:"Enter First Name"}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:r.username})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Last Name"}),Object(E.jsx)(y.a.Control,{type:"string",name:"lastname",id:"lastname",onChange:a,onBlur:n,value:c.lastname,placeholder:"Enter Last Name"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Credit Card Number"}),Object(E.jsx)(y.a.Control,{type:"string",name:"cc",id:"cc",onChange:a,onBlur:n,value:c.cc,placeholder:"Enter Credit Card Number"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Expiration Date"}),Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{children:Object(E.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(y.a.Control,{type:"string",name:"month",id:"month",onChange:a,onBlur:n,value:c.month,placeholder:"Enter month"})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(y.a.Control,{type:"string",name:"day",id:"day",onChange:a,onBlur:n,value:c.day,placeholder:"Enter day"})})]})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Continue"})]})}})};var je=function(e){return Object(E.jsxs)(h.a,{className:"text-center",children:[Object(E.jsx)(h.a.Img,{className:"mx-auto",variant:"top",src:"https://d1zgdcrdir5wgt.cloudfront.net/media/vehicle/images/-GWIN1aUTRO8HI2WwVEzIA.1440x700.jpg"}),Object(E.jsxs)(h.a.Body,{className:"pt-1",children:[Object(E.jsx)(h.a.Title,{style:{fontSize:"30px"},className:"mb-1",children:e.name}),Object(E.jsxs)("p",{children:["Days: ",de(e.start,e.end)]}),Object(E.jsxs)("p",{children:["Pickup Location: ",e.location]}),Object(E.jsxs)("p",{children:["Start Date: ",e.start]}),Object(E.jsxs)("p",{children:["End Date: ",e.end]})]})]})};function de(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var ue=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),h=Object(j.a)(l,2),O=h[0],x=h[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),g=m[0],f=m[1],v=Object(n.useState)(-1),y=Object(j.a)(v,2),k=y[0],T=y[1];Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/shopping-cart",success:function(e){o(e.previousItems),c(!1),console.log(e)}})}),[]);return console.log(i),a?Object(E.jsx)("div",{children:"Loading..."}):g?Object(E.jsxs)(Y.a,{show:g,onHide:function(){return f(!1)},animation:!1,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{children:"ALERT"})}),Object(E.jsx)(Y.a.Body,{children:"Transaction failed, please check your payment info"})]}):(console.log(O),O?Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"Confirmation"}),Object(E.jsxs)(d.a,{children:[Object(E.jsx)(u.a,{children:Object(E.jsx)(b.a,{children:Object(E.jsx)("h1",{children:"Thank you for your order!"})})}),Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsxs)("h3",{children:["Sales ID: ",k]}),Object(E.jsxs)("h3",{children:["Total Price: $",be(i)]})]})}),Object(E.jsx)(u.a,{children:Object(E.jsx)("h2",{children:"Your reservations"})}),Object(E.jsx)(u.a,{children:i.map((function(e,t){return Object(E.jsx)(b.a,{xs:4,children:Object(E.jsx)(je,{id:e.id,name:e.name,location:e.pickupLocation,start:e.startDate,end:e.endDate,price:e.unitPrice},t)})}))}),Object(E.jsx)(u.a,{children:Object(E.jsx)(S.LinkContainer,{to:"/browse/na/na/na/na/na/t",children:Object(E.jsx)(C.a,{variant:"link",children:">> Back to Car List"})})})]})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)(G,{title:"Payment"}),Object(E.jsx)(d.a,{children:Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{children:Object(E.jsxs)("h1",{children:["Cart Price: $",be(i)]})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(le,{setSalesId:T,setFailed:f,setCompleted:x})})]})})]}))};function be(e){for(var t=0,a=0;a<e.length;a++){var n=e[a];t+=parseInt(he(n.startDate,n.endDate)*n.unitPrice)}return t}function he(e,t){var a=e.split("/"),n=t.split("/"),c=new Date(a[0],a[1],a[2]),r=new Date(n[0],n[1],n[2]);return Math.round(Math.abs((c-r)/864e5))}var Oe=function(e){var t=Object(n.useState)({}),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),i=Object(j.a)(s,2),o=i[0],l=i[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(0),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(n.useState)(0),S=Object(j.a)(y,2),k=S[0],T=S[1],D=Object(n.useState)(0),N=Object(j.a)(D,2),B=N[0],I=N[1],P=Object(n.useState)(""),G=Object(j.a)(P,2);G[0],G[1];function _(t){l(!0),console.log("Sending:"),console.log(t),L.a.ajax({dataType:"json",method:"POST",data:t,url:w+"api/sort",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(console.log(t),p(t.message),r(t.results),l(!1))}})}function A(e){l(!0),L.a.ajax({dataType:"json",method:"POST",data:{category:e},url:w+"api/browse-car",success:function(e){p(e.message),r(e.results),l(!1)}})}return Object(n.useEffect)((function(){var t=xe(e.match.params);console.log(t),null!=t.retrace?L.a.ajax({dataType:"json",method:"GET",url:w+"api/jump",success:function(e){console.log(e),v(e.sorting.ratingFirst),T(e.sorting.ratingDescend),I(e.sorting.nameDescend),r(e.results),p(e.message),l(!1)}}):null!=t.key&&1===t.key.length?L.a.ajax({dataType:"json",method:"POST",data:{model:t.key},url:w+"api/browse-car",success:function(e){r(e.results),p(e.message),l(!1)}}):null!=t.key?L.a.ajax({dataType:"json",method:"POST",data:{category:t.key},url:w+"api/browse-car",success:function(e){p(e.message),r(e.results),l(!1)}}):null!=t.fulltext?L.a.ajax({dataType:"json",method:"POST",data:{token:t.fulltext.replace("%20"," ")},url:w+"api/full-text-search",success:function(e){p(e.message),r(e.results),l(!1)}}):L.a.ajax({dataType:"json",method:"POST",data:xe(e.match.params),url:w+"api/search-car",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})}),[]),o?Object(E.jsx)("div",{children:"LOADING"}):Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)(C.a,{onClick:function(){l(!0),L.a.ajax({dataType:"json",method:"POST",data:{pageStatus:-1},url:w+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})},children:"Previous"}),Object(E.jsx)(C.a,{className:"ml-3",onClick:function(){l(!0),L.a.ajax({dataType:"json",method:"POST",data:{pageStatus:1},url:w+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(p(t.message),r(t.results),l(!1))}})},children:"Next"})]}),Object(E.jsx)(b.a,{children:Object(E.jsx)("p",{children:x})}),Object(E.jsx)(b.a,{children:Object(E.jsxs)("select",{name:"show",id:"cars",onChange:function(t){console.log(t.target.value),l(!0),L.a.ajax({dataType:"json",method:"POST",data:{resultsPerPage:t.target.value},url:w+"api/paginate",success:function(t){"fail"===t.status?e.setError("Login failed (Invalid username/password"):(console.log(t),p(t.message),r(t.results),l(!1))}})},children:[Object(E.jsx)("option",{children:"Set show"}),Object(E.jsx)("option",{value:"10",children:"10"}),Object(E.jsx)("option",{value:"25",children:"25"}),Object(E.jsx)("option",{value:"50",children:"50"}),Object(E.jsx)("option",{value:"100",children:"100"})]})}),Object(E.jsxs)(b.a,{children:[Object(E.jsxs)("select",{name:"sort",id:"sort",value:f,onChange:function(e){v(e.target.value),console.log("ratingFirst: "+e.target.value),_({ratingFirst:e.target.value,ratingDescend:k,nameDescend:B})},children:[Object(E.jsx)("option",{value:"1",children:"By Rating First"}),Object(E.jsx)("option",{value:"0",children:"By Title First"})]}),Object(E.jsxs)("select",{name:"sort",id:"sort",value:B,onChange:function(e){I(e.target.value),_({ratingFirst:f,ratingDescend:k,nameDescend:e.target.value})},children:[Object(E.jsx)("option",{value:"0",children:"By Title Ascending"}),Object(E.jsx)("option",{value:"1",children:"By Title Descending"})]}),Object(E.jsxs)("select",{name:"sort",id:"sort",value:k,onChange:function(e){T(e.target.value),_({ratingFirst:f,ratingDescend:e.target.value,nameDescend:B})},children:[Object(E.jsx)("option",{value:"0",children:"By Rating Ascending"}),Object(E.jsx)("option",{value:"1",children:"By Rating Descending"})]})]})]}),Object(E.jsx)(u.a,{children:c.map((function(e,t){return Object(E.jsx)(X,{id:e.car_id,name:e.car_name,category:e.car_category,rating:e.car_rating,votes:e.car_votes,locations:e.location_address.split(";"),locationId:e.location_ids.split(";"),phone:e.location_phone.split(";"),handleCategorySelect:A},t)}))})]})};function xe(e){return"na"!==e.model&&null!=e.model||delete e.model,"na"!==e.year&&null!=e.year||delete e.year,"na"!==e.make&&null!=e.make||delete e.make,"na"!==e.location&&null!=e.location||delete e.location,"na"!==e.key&&null!=e.key||delete e.key,"na"!==e.retrace&&null!=e.retrace||delete e.retrace,"na"!==e.fulltext&&null!=e.fulltext||delete e.fulltext,e}var pe=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({defaultQuery:me}),s=Object(j.a)(r,2),i=s[0],o=s[1];return a?Object(E.jsx)(l.c,{to:"/browse/"+i.model+"/"+i.year+"/"+i.make+"/"+i.location}):Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t.model&&(t.model="na"),null==t.year&&(t.year="na"),null==t.make&&(t.make="na"),null==t.location&&(t.location="na"),o(t),c(!0),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Model"}),Object(E.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Year"}),Object(E.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Make"}),Object(E.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Location"}),Object(E.jsx)(y.a.Control,{type:"string",name:"location",id:"location",onChange:a,onBlur:n,value:c.location,placeholder:"Enter location"})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Search"})]})}})},me={model:"na",year:"na",make:"na",location:"na"},ge=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(j.a)(r,2),i=s[0],o=s[1],h=Object(n.useState)(!1),O=Object(j.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(""),g=Object(j.a)(m,2),f=g[0],v=g[1];function y(e){v("/browse/na/na/na/na/"+e.target.id),p(!0)}return Object(n.useEffect)((function(){console.log("Asdfasdf"),L.a.ajax({dataType:"json",method:"GET",url:w+"api/categories",success:function(e){console.log(e),c(e.map((function(e){return e.category}))),o(!1)}})}),[]),i?Object(E.jsx)("div",{children:"LOADING"}):x?Object(E.jsx)(l.c,{to:f}):Object(E.jsx)(d.a,{children:Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{children:" Search "}),Object(E.jsx)(pe,{})]}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{children:" Browse by Vehicle Type "}),a.map((function(e){return Object(E.jsx)(C.a,{id:e,onClick:y,variant:"link",children:e})}))]}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{children:" Browse by Vehicle Name "}),fe.map((function(e){return Object(E.jsx)(C.a,{id:e,onClick:y,variant:"link",children:e})}))]})]})})},fe=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","*"],ve=(a(218),a(327)),ye=function(e){return console.log(e),void 0===e.dbtitle?Object(E.jsx)("div",{}):Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{children:e.dbtitle}),Object(E.jsxs)(ve.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Attributes"}),Object(E.jsx)("th",{children:"Type"})]})}),Object(E.jsx)("tbody",{children:e.fields.map((function(t,a){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t}),Object(E.jsx)("th",{children:e.types[a]})]})}))})]})]})},Ce=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],d=function(){return r(!1)};return c?Object(E.jsxs)(Y.a,{show:c,onHide:d,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{children:"Response Received!"})}),Object(E.jsx)(Y.a.Body,{children:o}),Object(E.jsx)(Y.a.Footer,{children:Object(E.jsx)(C.a,{variant:"secondary",onClick:d,children:"Close"})})]}):Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.a.ajax({dataType:"json",method:"POST",data:a,url:w+"api/add-car",success:function(t){null!=t.errorMessage?e.setError([t.errorMessage,""]):(l(t.message),r(!0))},error:function(e){console.log("ERROr"),console.log(e)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Model"}),Object(E.jsx)(y.a.Control,{type:"string",name:"model",id:"model",onChange:a,onBlur:n,value:c.model,placeholder:"Enter model name"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Year"}),Object(E.jsx)(y.a.Control,{type:"string",name:"year",id:"year",onChange:a,onBlur:n,value:c.year,placeholder:"Enter year"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Make"}),Object(E.jsx)(y.a.Control,{type:"string",name:"make",id:"make",onChange:a,onBlur:n,value:c.make,placeholder:"Enter make"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car Category"}),Object(E.jsx)(y.a.Control,{type:"string",name:"category",id:"category",onChange:a,onBlur:n,value:c.category,placeholder:"Enter category"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Car address"}),Object(E.jsx)(y.a.Control,{type:"string",name:"address",id:"address",onChange:a,onBlur:n,value:c.address,placeholder:"Enter address"})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Add"})]})}})},Se=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],d=function(){return r(!1)};return c?Object(E.jsxs)(Y.a,{show:c,onHide:d,children:[Object(E.jsx)(Y.a.Header,{closeButton:!0,children:Object(E.jsx)(Y.a.Title,{children:"Response Received!"})}),Object(E.jsx)(Y.a.Body,{children:o}),Object(E.jsx)(Y.a.Footer,{children:Object(E.jsx)(C.a,{variant:"secondary",onClick:d,children:"Close"})})]}):Object(E.jsx)(v.a,{initialValues:{},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.a.ajax({dataType:"json",method:"POST",data:a,url:w+"api/add-loc",success:function(t){null!=t.errorMessage?e.setError(["",t.errorMessage]):(l(t.message),r(!0))},error:function(e){console.log("ERROR"),console.log(e)}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values;e.touched,e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Address*"}),Object(E.jsx)(y.a.Control,{type:"string",name:"address",id:"address",onChange:a,onBlur:n,value:c.address,placeholder:"Enter address name"})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Phone number"}),Object(E.jsx)(y.a.Control,{type:"string",name:"phoneNumber",id:"phoneNumber",onChange:a,onBlur:n,value:c.phoneNumber,placeholder:"Enter Phone Number"})]}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Add"})]})}})},ke=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(["",""]),d=Object(j.a)(l,2),h=d[0],O=d[1];return Object(n.useEffect)((function(){L.a.ajax({dataType:"json",method:"GET",url:w+"api/metadata",success:function(e){c(Object.values(e)),o(!1)}})}),[]),i?Object(E.jsx)("div",{children:"Loading..."}):Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:"Dashboard"}),Object(E.jsx)("h3",{id:"tables",children:"Tables"}),Object(E.jsx)(u.a,{children:a.map((function(e){return Object(E.jsx)(b.a,{xs:3,children:Object(E.jsx)(ye,{dbtitle:e.tableName,fields:e.fields,types:e.types})})}))}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{id:"addcar",children:"Add car"}),Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)(Ce,{setError:O}),Object(E.jsx)("p",{children:h[0]})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{id:"addpickup",children:"Add Pickup Location"}),Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)(Se,{setError:O}),Object(E.jsx)("p",{children:h[1]})]})}),Object(E.jsx)("div",{className:"end"})]})},Le=a(94),we=a.n(Le),Te=(a(317),function(e){return Object(E.jsx)(v.a,{initialValues:{username:"classta@email.edu",password:"classta"},onSubmit:function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),e.setLoading(!0),L.a.ajax({dataType:"json",method:"POST",data:a,url:w+"api/employee-login",success:function(t){e.setLoading(!1),console.log(JSON.stringify(t)),"fail"===t.status?e.setError(t.message):e.setSuccess(!0)},error:function(t){e.setLoading(!1),e.setError("Invalid email/password")}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values,r=e.touched,s=e.errors;return Object(E.jsxs)(y.a,{noValidate:!0,onSubmit:t,children:[Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Username"}),Object(E.jsx)(y.a.Control,{type:"string",name:"username",id:"username",onChange:a,onBlur:n,value:c.username,placeholder:"Enter username",isInvalid:r.username&&s.username}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.username})]}),Object(E.jsxs)(y.a.Group,{children:[Object(E.jsx)(y.a.Label,{children:"Password"}),Object(E.jsx)(y.a.Control,{type:"password",name:"password",id:"password",onChange:a,onBlur:n,value:c.password,placeholder:"Enter password",isInvalid:r.password&&s.password}),Object(E.jsx)(y.a.Control.Feedback,{type:"invalid",children:s.password})]}),Object(E.jsx)(y.a.Group,{children:Object(E.jsx)(T.a,{sitekey:"6LdFer8aAAAAACdsGnif7x0qN-yvVYsYPlyMCIAW",onChange:function(e){return c.recaptcha=e}})}),Object(E.jsx)(C.a,{variant:"primary",type:"submit",children:"Login"}),Object(E.jsx)(S.LinkContainer,{to:"/login",children:Object(E.jsx)(C.a,{variant:"link",value:"register",children:"Customer Login"})})]})}})}),Ee=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(),O=Object(j.a)(l,2),x=O[0],m=O[1];return a?Object(E.jsx)(d.a,{fluid:!0,children:Object(E.jsxs)(u.a,{children:[Object(E.jsx)(b.a,{xs:2,className:"sidebar",children:Object(E.jsxs)(W.a,{defaultActiveKey:"tables",className:"flex-column",children:[Object(E.jsx)(we.a,{href:"#tables",children:Object(E.jsx)(W.a.Link,{className:"nav-link",eventKey:"tables",children:"Tables"})}),Object(E.jsx)(we.a,{href:"#addcar",children:Object(E.jsx)(W.a.Link,{className:"nav-link",eventKey:"addcar",children:"Add Car"})}),Object(E.jsx)(we.a,{href:"#addpickup",children:Object(E.jsx)(W.a.Link,{className:"nav-link",eventKey:"addpickup",children:"Add Pickup Location"})}),Object(E.jsx)(S.LinkContainer,{to:"/",children:Object(E.jsx)(W.a.Link,{className:"nav-link",children:"Go to site"})})]})}),Object(E.jsx)(b.a,{xs:10,children:Object(E.jsx)(ke,{})})]})}):Object(E.jsx)(d.a,{children:Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)("h1",{className:"text-center pt-5",children:"Dashboard Login"}),Object(E.jsx)(h.a,{xs:4,children:Object(E.jsxs)(p.a,{active:i,spinner:!0,text:"Logging in...",children:[Object(E.jsx)(h.a.Body,{children:Object(E.jsx)(Te,{setLoading:o,setError:m,setSuccess:c})}),Object(E.jsx)("div",{children:x})]})})]})})})};var De=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(l.d,{path:"/login",render:function(){return Object(E.jsx)(N,{})}})})},Ne=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(l.d,{path:"/_dashboard",render:function(){return Object(E.jsx)(Ee,{})}})})},Be=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)($,{}),Object(E.jsx)(l.d,{path:"/",exact:!0,render:function(){return Object(E.jsx)(P,{})}}),Object(E.jsx)(l.d,{path:"/search/:model?/:year?/:make?/:location?",render:function(e){return Object(E.jsx)(te,Object(i.a)({},e))}}),Object(E.jsx)(l.d,{path:"/browse/:model?/:year?/:make?/:location?/:key?/:retrace?/:fulltext?",render:function(e){return Object(E.jsx)(Oe,Object(i.a)({},e))}}),Object(E.jsx)(l.d,{path:"/mycart",render:function(){return Object(E.jsx)(oe,{})}}),Object(E.jsx)(l.d,{path:"/payment",render:function(){return Object(E.jsx)(ue,{})}}),Object(E.jsx)(l.d,{path:"/cars/:carId",render:function(e){return Object(E.jsx)(R,Object(i.a)({},e))}}),Object(E.jsx)(l.d,{path:"/locations/:locationId",render:function(e){return Object(E.jsx)(V,Object(i.a)({},e))}}),Object(E.jsx)(l.d,{path:"/browseby",render:function(){return Object(E.jsx)(ge,{})}})]})},Ie=function(){return Object(E.jsx)(o.BrowserRouter,{basename:"/ZotRides",children:Object(E.jsxs)(l.g,{children:[Object(E.jsx)(l.d,{exact:!0,path:"/(login)",component:De}),Object(E.jsx)(l.d,{exact:!0,path:"/(_dashboard)",component:Ne}),Object(E.jsx)(l.d,{component:Be})]})})},Pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,334)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(Ie,{})}),document.getElementById("root")),Pe()},99:function(e,t,a){}},[[318,1,2]]]);
//# sourceMappingURL=main.f401bf12.chunk.js.map